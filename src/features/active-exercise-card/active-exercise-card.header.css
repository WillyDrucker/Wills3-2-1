/* ==========================================================================
   ACTIVE EXERCISE CARD - Header

   CEMENT: Flexbox layout with truncation enables responsive text overflow
   - Text elements shrink with ellipsis, clocks remain stationary
   - Two-line header shows exercise title, clock, and workout duration
   - 16/7/7 spacing rhythm maintained via margin compensation

   Architecture: Responsive header with priority-based truncation
   - Dynamic text (title, duration) truncates with ellipsis
   - Static elements (clocks, focus) never truncate
   - Flex layout with min-width: 0 enables child text truncation

   Dependencies:
   Global: _variables.css (spacing, colors, typography)
   Global: _card-headers.css (base header typography)

   Used by: Active card in normal and dual-mode workouts
   ========================================================================== */

/* === HEADER CONTAINER === */
#active-card-container #active-card-header {
  margin: 0;
  padding: 0;
}

/* === HEADER LAYOUT === */
/* CEMENT: Flex layout with min-width enables child truncation */
#active-card-container .card-header-line {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: var(--space-m);
  margin: 0;
  padding: 0;
  min-width: 0;
}

/* Single-line header (used when only header text present) */
#active-card-container #active-card-header.card-header-container {
  margin: 0;
  padding: 0;
}

/* Spacing between header lines */
#active-card-container .card-header-line:not(:first-child) {
  margin-top: var(--space-s);
}

/* === TYPOGRAPHY === */
#active-card-container .card-header,
#active-card-container .card-header-clock,
#active-card-container .card-header-workout-focus,
#active-card-container .card-header-dynamic-text {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1;
  margin: 0;
  padding: 0;
  text-shadow: 0 3px 8px rgba(0, 0, 0, 1.0);
}

/* === TRUNCATION SYSTEM === */
/* CEMENT: Text elements truncate, clocks stay stationary */

/* Header text - truncates with ellipsis */
#active-card-container .card-header {
  color: var(--on-surface-light);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Clock display - never truncates */
#active-card-container .card-header-clock {
  flex-shrink: 0;
  white-space: nowrap;
}

/* Workout focus display - never truncates, right-aligned like clock */
#active-card-container .card-header-workout-focus {
  flex-shrink: 0;
  white-space: nowrap;
  /* Color applied via data-highlight class: text-plan or text-deviation */
}

/* Dynamic text (duration, completion time) - truncates with ellipsis */
#active-card-container .card-header-dynamic-text {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* === COLOR STATES === */
/* Today's workout */
#active-card-container .card-header-line.text-plan .card-header-dynamic-text,
#active-card-container .card-header-line.text-plan .card-header-clock {
  color: var(--text-green-plan);
}

/* Different day workout */
#active-card-container .card-header-line.text-deviation .card-header-dynamic-text,
#active-card-container .card-header-line.text-deviation .card-header-clock {
  color: var(--text-olive-deviation);
}

/* Warning/maintenance state */
#active-card-container .card-header-line.text-warning .card-header-dynamic-text,
#active-card-container .card-header-line.text-warning .card-header-clock {
  color: var(--text-yellow-maintenance);
}

/* Clock inherits parent color if not explicitly set */
#active-card-container .card-header-clock {
  color: inherit;
}

/* === SPAN ALIGNMENT === */
/* Ensure inline spans maintain baseline alignment */
#active-card-container .card-header span,
#active-card-container .card-header-clock span,
#active-card-container .card-header-dynamic-text span {
  line-height: inherit;
  vertical-align: baseline;
  display: inline;
  margin: 0;
  padding: 0;
}

/* === BEGIN EXERCISE - LOG RESULTS LINE === */
/* Centered single line of instruction text */
.begin-log-text-line {
  text-align: center;
  margin: 0;
  padding: 0;
}

/* Text styling matching original action-prompt-text */
.begin-log-text {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.2; /* Default line-height to accommodate descenders */
  margin: 0;
  padding: 0;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  letter-spacing: 0.5px;
  color: var(--on-surface-light);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Glowing animation when card is active */
body.start-glow-animations .begin-log-text {
  animation: text-glow 4s ease-in-out infinite;
}