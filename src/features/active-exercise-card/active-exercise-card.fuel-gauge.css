/* ==========================================================================
   ACTIVE EXERCISE CARD - Fuel Gauge

   CEMENT: Overlay positioning uses absolute centering for precise alignment
   - Action prompts centered over fuel gauge during rest states
   - Truncation ensures prompts remain visible at narrow viewports
   - 5-segment timer display with color-coded animations

   Architecture: Positioned fuel gauge with centered overlay prompts
   - Fuel gauge container uses flexbox for equal segment distribution
   - Absolute overlay centers prompts without affecting gauge layout
   - Recovering animation shows progress visually

   Dependencies:
   Global: _variables.css (spacing, control-height, colors)
   Global: _animations.css (recovering-progression animation)
   Local: active-exercise-card.style.css (--fuel-gauge-top: 16px, --fuel-gauge-bottom: 3px)
   Component: fuel-gauge/fuel-gauge.style.css (segment styles)

   Used by: Active card during rest periods and exercise transitions
   ========================================================================== */

/* === FUEL GAUGE POSITIONING === */
#active-card-container .input-group + #card-anchor-area {
  position: relative;
  z-index: 1;
  margin-top: var(--fuel-gauge-top);
  margin-bottom: var(--fuel-gauge-bottom);
  padding: 0;
}

/* === FUEL GAUGE CONTAINERS === */
/* Single gauge for normal workouts */
.fuel-gauge-container {
  display: flex;
  gap: var(--fuel-gauge-gap);
  height: var(--control-height);
}

/* Dual gauge for superset/partner workouts */
.dual-fuel-gauge-container {
  display: flex;
  gap: var(--space-m);
  height: var(--control-height);
}

/* === OVERLAY SYSTEM === */
/* CEMENT: Overlay container for action prompts during rest periods */
.fuel-gauge-with-overlay {
  position: relative;
  width: 100%;
}

.fuel-gauge-with-overlay .fuel-gauge-container {
  width: 100%;
}

/* Centered overlay for action prompts */
.action-prompt-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  pointer-events: none;
  z-index: 10;
}

/* === ACTION PROMPT TEXT === */
/* CEMENT: Truncation prevents overflow while maintaining readability */
.action-prompt-overlay .action-prompt-text {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--on-surface-light);
  margin: 0;
  padding: 0 var(--card-padding-sides);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  letter-spacing: 0.5px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.action-prompt-overlay .action-prompt-text.is-glowing {
  animation: textGlow 2s ease-in-out infinite;
}

/* === RESTING LABELS === */
/* Overlay label for resting state */
.resting-label-overlay {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--on-surface-light);
  margin: 0;
  padding: 0 var(--card-padding-sides);
  letter-spacing: 0.5px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* === MINUTES REMAINING LINE === */
/* CEMENT: Left side (text) truncates, right side (clock) stays stationary */
.minutes-remaining-line {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  gap: var(--space-m);
  min-width: 0;
}

.minutes-remaining-line .card-header-dynamic-text {
  font-size: 1rem;
  font-weight: 500;
  line-height: 1.2;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Clock (right side) never truncates */
.minutes-remaining-line .card-header-dynamic-text:last-child {
  flex-shrink: 0;
}

/* === RESTING FOR LABEL === */
.resting-for-label {
  display: flex;
  justify-content: center;
  width: 100%;
  margin: 0;
  padding: 0;
}

.resting-label-text {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--on-surface-medium);
  margin: 0;
  padding: 0 var(--card-padding-sides);
  text-align: center;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.resting-for-label p {
  margin: 0;
  padding: 0;
}

/* === RECOVERING TEXT === */
/* CEMENT: Animated color progression from dark blue to white over 60 seconds */
.recovering-text {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-blue-dark);
  margin: 0;
  padding: 0;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  letter-spacing: 0.5px;
  animation: recovering-progression 60s linear infinite;
  animation-fill-mode: forwards;
}

/* Smooth color progression for recovery timer */
@keyframes recovering-progression {
  0% {
    color: #000510;
  }
  91.67% {
    color: var(--primary-blue);
  }
  100% {
    color: #ffffff;
  }
}