/* CEMENTED: Active tokens host (parent)
   Siblings inherit custom properties from the parent */
#active-card-container #card-action-area.stack:has(> .action-prompt-block.is-resting) {
  --cap-active-timer-line-height: 0.7;
  --cap-active-timer-top-adjust: 5px;
  --cap-active-timer-bottom-adjust: 9px;
  --cap-active-timer-container-mt: 0px;
  --cap-active-timer-container-mb: 0px;
  --cap-active-button-container-mt: 0px;
}

/* Active (resting) — neutralize inner gaps; rely on outer .stack (16px) */
#active-card-container #card-action-area.stack .action-prompt-block.is-resting ~ .timer-container,
#active-card-container #card-action-area.stack .action-prompt-block.is-resting ~ .action-button-group {
  gap: 0;
  margin: 0;
  padding: 0;
}

/* Active (resting) — adjust flow via tokens (container-level) */
#active-card-container #card-action-area.stack .action-prompt-block.is-resting ~ .timer-container {
  margin-top: var(--cap-active-timer-container-mt);
  margin-bottom: var(--cap-active-timer-container-mb);
}
#active-card-container #card-action-area.stack .action-prompt-block.is-resting ~ .action-button-group {
  margin-top: var(--cap-active-button-container-mt);
}

/* Active (resting) — fine-tune timer vertical offset */
#active-card-container #card-action-area.stack .action-prompt-block.is-resting ~ .timer-container .timer-display {
  margin-top: var(--cap-active-timer-top-adjust);
  margin-bottom: var(--cap-active-timer-bottom-adjust);
}
