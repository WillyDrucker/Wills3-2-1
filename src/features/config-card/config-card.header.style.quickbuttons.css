/* ==========================================================================
   CONFIG HEADER - Quick Buttons

   Icon bar with three Quick Buttons displaying current workout state:
   - Plan button (flex): Shows current mode or plan duration
   - Focus button (50px fixed): Shows muscle group icon
   - Session button (flex): Shows minutes remaining with color coding

   CEMENT: Quick buttons remain clickable even when muted
   - Visual-only muting: buttons show muted colors
   - pointer-events: auto overrides global .is-muted rule
   - Allows opening config dropdown even when all selectors muted
   - Content stays visible (shows current state)

   Architecture:
   - Three-button layout with 7px gaps
   - Plan and Session: Flexible width with stacked text
   - Focus: Fixed 50px width with icon/emoji
   - All buttons: 50px height constraint, blue border, click to expand config

   Quick Button Animations:
   - Grow-snap animation on "Let's Go!" confirmation
   - Triggered when corresponding config value changes
   - Animation defined in _animations-general.css
   - 600ms duration with center transform-origin

   Dependencies: _variables.css (tokens), _animations-general.css
   Used by: config-card.header.style.css (main stylesheet)
   ========================================================================== */

/* === ICON BAR (COLLAPSED STATE) === */
/* CEMENT: Three-button layout - flexible plan/session, fixed focus icon */
.icon-bar {
  display: flex;
  align-items: center;
  gap: var(--space-s); /* Global: 7px between buttons */
  margin-top: 0;
  padding: 0;
  font-size: 1rem;
  min-height: var(--control-height); /* Global: 50px */
}

/* === PLAN QUICK BUTTON === */
/* CEMENT: Flexible width displays mode or plan info */
.icon-bar-item.icon-plan-wide {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 8px;
  flex: 1;
  height: var(--control-height);
  min-height: var(--control-height);
  background: var(--background-dark);
  border: none;
  border-radius: var(--border-radius);
  box-shadow: inset 0 0 0 2px var(--primary-blue),
              0 2px 6px rgba(0, 0, 0, 0.3);
  cursor: pointer;
}

.icon-bar-item.icon-plan-wide .plan-text {
  line-height: 1;
  text-align: center;
}

/* CEMENT: Stacked text layout matches Superset/Partner selector spacing */
.plan-quick-button-stack {
  display: flex;
  flex-direction: column;
  padding: var(--selector-multiline-padding-top) 0 var(--selector-multiline-padding-bottom) 0;
  line-height: var(--selector-multiline-line-height);
  text-align: center;
}

.plan-quick-button-stack > span {
  font-family: "Roboto", sans-serif;
  font-size: var(--font-size-h2);
  font-weight: 500;
  line-height: inherit;
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.plan-quick-button-stack > span:first-child {
  margin-bottom: var(--selector-multiline-line-gap);
}

.plan-quick-button-muted {
  color: var(--on-surface-medium);
}

/* === FOCUS QUICK BUTTON === */
/* CEMENT: Fixed 50px displays current body part icon */
.icon-bar-item.icon-display {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  width: 50px;
  height: var(--control-height);
  min-width: 50px;
  min-height: var(--control-height);
  background: var(--background-dark);
  border: none;
  border-radius: var(--border-radius);
  box-shadow: inset 0 0 0 2px var(--primary-blue),
              0 2px 6px rgba(0, 0, 0, 0.3);
  font-size: var(--font-size-h2);
  font-weight: 600;
  cursor: pointer;
  flex-shrink: 0;
}

.icon-bar-item.icon-display .icon-label {
  font-size: var(--font-size-h2);
  line-height: 1;
}

/* === SESSION QUICK BUTTON === */
/* CEMENT: Flexible width displays current session time */
.icon-bar-item.icon-session-wide {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 8px;
  flex: 1;
  height: var(--control-height);
  min-height: var(--control-height);
  background: var(--background-dark);
  border: none;
  border-radius: var(--border-radius);
  box-shadow: inset 0 0 0 2px var(--primary-blue),
              0 2px 6px rgba(0, 0, 0, 0.3);
  cursor: pointer;
}

.icon-bar-item.icon-session-wide .session-text {
  text-align: center;
}

.session-quick-button-stack {
  display: flex;
  flex-direction: column;
  padding: var(--selector-multiline-padding-top) 0 var(--selector-multiline-padding-bottom) 0;
  line-height: var(--selector-multiline-line-height);
  text-align: center;
}

.session-quick-button-stack > span {
  font-family: "Roboto", sans-serif;
  font-size: var(--font-size-h2);
  font-weight: 500;
  line-height: inherit;
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.session-quick-button-stack > span:first-child {
  margin-bottom: var(--selector-multiline-line-gap);
}

/* === BUSINESS LOGIC MUTING === */
/* CEMENT: Visual-only muting - buttons remain clickable for config dropdown access */
/* Content stays visible because buttons show current state (plan, focus, session) */
/* Buttons remain interactive to allow opening config dropdown even when all selectors are muted */
/* pointer-events: auto overrides global .is-muted rule from _helpers.css */
.icon-bar-item.icon-plan-wide.is-muted {
  background: var(--muted-background);
  box-shadow: inset 0 0 0 2px var(--muted-border-color);
  pointer-events: auto;
}

.icon-bar-item.icon-display.is-muted {
  background: var(--muted-background);
  box-shadow: inset 0 0 0 2px var(--muted-border-color);
  pointer-events: auto;
}

.icon-bar-item.icon-session-wide.is-muted {
  background: var(--muted-background);
  box-shadow: inset 0 0 0 2px var(--muted-border-color);
  pointer-events: auto;
}

/* === QUICK BUTTON ANIMATIONS === */
/* Grow animation applied to Quick Buttons on "Let's Go!" confirmation */
/* Animation defined in: src/styles/utils/_animations-general.css (quick-button-grow-snap) */
.icon-bar-item.is-animating-quick-button {
  animation: quick-button-grow-snap 600ms ease-out forwards;
  transform-origin: center center;
  will-change: transform;
}

/* === RESPONSIVE LAYOUT === */
/* CEMENT: Narrow viewport strategy - lock focus icon, compress plan/session */
@media (max-width: 389px) {
  .icon-bar {
    flex-wrap: nowrap;
  }

  .icon-bar-item.icon-display {
    width: 50px;
    min-width: 50px;
    max-width: 50px;
    flex-shrink: 0;
  }

  .icon-bar-item.icon-plan-wide,
  .icon-bar-item.icon-session-wide {
    flex: 1;
    min-width: 0;
  }
}
