/* ==========================================================================
   DUAL-MODE SPACING - Precision Layout Control

   ðŸ”’ CEMENT: Critical spacing overrides adjusted for 4.5rem timer height
   - Global reset forces !important flags for margin control
   - Transform positioning bypasses margin constraints
   - All spacing tokenized in active-exercise-card.style.css

   Spacing Architecture (adjusted for 4.5rem timer):
   â”œâ”€â”€ Fuel gauge to "Resting For:" (16px visual via --dual-resting-margin-top: 0px)
   â”œâ”€â”€ "Resting For:" to dual grid (17px visual via --dual-grid-margin-top: 12px)
   â”œâ”€â”€ Inactive "Begin Exercise" spacing (17px/18px via --dual-upper/lower-slack-spacing)
   â””â”€â”€ "Log Set" button alignment (18px via --dual-logset-transform-y: 1px)

   Dependencies:
   Global: _variables.css (spacing tokens)
   Local: active-exercise-card.style.css (dual-mode spacing tokens: --dual-resting-margin-top, --dual-grid-margin-top, --dual-upper/lower-slack-spacing, --dual-logset-transform-y)

   Used by: Dual-mode active states
   ========================================================================== */

/* === STACK SPACING CONTROL === */
/* ðŸ”’ CEMENT: Reset gap for manual margin precision */
#active-card-container.card #card-action-area.stack:has(> .action-prompt-block.is-resting.is-dual-mode):has(> .dual-action-area-container) {
  gap: 0; /* Reset gap - using manual margin control for precision */
  align-items: flex-start; /* Override default stretch to allow margin control */
}

/* === DUAL-ACTION GRID SPACING === */
/* ðŸ”’ CEMENT: Precise spacing from "Resting For:" to dual grid - uses token */
#active-card-container.card .action-prompt-block.is-resting.is-dual-mode + .dual-action-area-container {
  margin-top: var(--dual-grid-margin-top); /* Token: 12px achieves 17px visual spacing */
}

/* === FLATTENED STRUCTURE RESETS === */
/* Dual-mode uses clean structure without spacer divs */
#active-card-container .action-prompt-block.is-dual-mode {
  margin: 0;
  padding: 0;
}

/* === FUEL GAUGE SPACING === */
/* ðŸ”’ CEMENT: !important required - global reset forces override - uses token */
#active-card-container .action-prompt-block.is-resting.is-dual-mode {
  margin: var(--dual-resting-margin-top) 0 0 0 !important; /* Token: 0px achieves 16px visual from inputs */
  padding: 0;
  width: 100%;
  text-align: center;
}

#active-card-container .action-prompt-block.is-dual-mode .resting-label {
  margin: 0;
  padding: 0;
  line-height: 1.25; /* Standard line-height for clean spacing */
  font-size: var(--font-size-h2); /* Restore to 1.25rem */
}

/* === MINUTES REMAINING LINE SPACING === */
/* ðŸ”’ CEMENT: Dual-mode minutes remaining line spacing override */
#active-card-container.is-dual-mode .minutes-remaining-line {
  margin-top: 11px !important; /* 11px margin to achieve 16px visual from inputs */
  margin-bottom: 0;
  padding: 0;
}

/* === ACTION AREA SPACING FOR DUAL MODE === */
/* ðŸ”’ CEMENT: Spacing from begin-exercise text to action buttons - handled by inline style var(--dual-lower-slack-spacing) */
/* Removed hardcoded override to allow dynamic spacing tokens */

/* === ACTION PROMPT TEXT STYLING === */
/* ðŸ”’ CEMENT: Dual-mode "Begin Exercise - Log Results" text styling */
#active-card-container .action-prompt-block.is-dual-mode .action-prompt-text {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-blue-dark);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  text-align: center;
  margin: 0;
  padding: 0;
}

/* === DUAL-MODE INACTIVE STATE SPACING === */
/* ðŸ”’ CEMENT: Prevents shift between inactive and active states - uses tokens */
#active-card-container.is-dual-mode .minutes-remaining-line.dual-mode-inactive-slack {
  margin-top: var(--dual-inactive-margin-top) !important; /* Token: 11px achieves 16px visual above */
  margin-bottom: var(--dual-inactive-margin-bottom) !important; /* Token: 2px achieves 17px visual below */
}

/* === BUTTON ALIGNMENT === */
/* ðŸ”’ CEMENT: Transform bypasses global -1px margin constraint - uses token */
.dual-action-area-container:has(.timer-and-skip-container)
  .action-area-cell:not(:has(.timer-and-skip-container)) .action-button-group {
  transform: translateY(var(--dual-logset-transform-y)); /* Token: 1px achieves 18px from "Resting For:" */
}
