/* ==========================================================================
   DUAL-MODE FUEL GAUGE

   Purpose: Dual fuel gauge layout for superset/partner workouts
            Positioned below selector showing rest/recovery progress for
            both exercises with action prompt overlays

   CEMENT: Flexbox layout with equal distribution for dual gauge display
           Overlay positioning uses absolute centering for precise alignment
           Truncation ensures prompts remain visible at narrow viewports

   Dependencies:
     Parent: active-exercise-card.fuel-gauge.css (base fuel gauge structure)
     Global: _variables.css (spacing, control height, colors)
             _animations.css (recovering-progression animation)
     Component: fuel-gauge segments

   Used by: Dual-mode active card during superset/partner workouts
   ========================================================================== */

/* === FUEL GAUGE POSITIONING === */
#active-card-container.is-dual-mode .dual-fuel-gauge-area {
  position: relative;
  z-index: 1;
  margin: 0;
  padding: 0;
}

/* === DUAL FUEL GAUGE CONTAINER === */
/* CEMENT: Flexbox layout for equal gauge distribution */
#active-card-container.is-dual-mode .dual-fuel-gauge-container {
  display: flex;
  gap: var(--space-m);
  height: var(--control-height);
  margin: 0;
  padding: 0;
}

#active-card-container.is-dual-mode .fuel-gauge-wrapper {
  flex: 1;
  min-width: 0;
}

/* === MINUTES REMAINING LINE === */
/* CEMENT: Left side (text) truncates, right side (clock) stays stationary */
#active-card-container.is-dual-mode .minutes-remaining-line {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  gap: var(--space-m);
  min-width: 0;
}

#active-card-container.is-dual-mode .minutes-remaining-line .card-header-dynamic-text {
  font-size: 1.25rem;
  font-weight: 500;
  line-height: 1.2;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Clock (right side) never truncates */
#active-card-container.is-dual-mode .minutes-remaining-line .card-header-dynamic-text:last-child {
  flex-shrink: 0;
}

/* === RESTING TEXT === */
#active-card-container.is-dual-mode .action-prompt-block.is-resting {
  margin: -1px 0 0 0;
  padding: 0;
  width: 100%;
  text-align: center;
}

/* CEMENT: Truncation prevents overflow while maintaining readability */
#active-card-container.is-dual-mode .resting-label {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--on-surface-medium);
  margin: 0;
  padding: 0 var(--card-padding-sides);
  line-height: 1.25;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* === ACTION PROMPT OVERLAY === */
/* CEMENT: Overlay container for action prompts during rest periods */
#active-card-container.is-dual-mode .dual-fuel-gauge-area {
  position: relative;
}

/* Centered overlay for action prompts */
#active-card-container.is-dual-mode .dual-fuel-gauge-area .action-prompt-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  z-index: 2;
  text-align: center;
  pointer-events: none;
}

/* CEMENT: Truncation prevents overflow while maintaining readability */
#active-card-container.is-dual-mode .dual-fuel-gauge-area .action-prompt-overlay .action-prompt-text {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-blue-dark);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  margin: 0;
  padding: 0 var(--card-padding-sides);
  pointer-events: auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* === RECOVERING TEXT OVERLAYS === */
/* Individual fuel gauge overlays for recovery timer */
#active-card-container.is-dual-mode .dual-mode-recovering-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  z-index: 2;
  text-align: center;
  pointer-events: none;
}

/* CEMENT: Animated color progression from dark blue to white over 60 seconds */
#active-card-container.is-dual-mode .dual-mode-recovering-text {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-blue-dark);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  margin: 0;
  padding: 0 var(--card-padding-sides);
  letter-spacing: 0.5px;
  animation: recovering-progression 60s linear infinite;
  animation-fill-mode: forwards;
  pointer-events: auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Ensure fuel gauge with overlay has relative positioning */
#active-card-container.is-dual-mode .fuel-gauge-with-overlay {
  position: relative;
}