/* ==========================================================================
   WORKOUT LOG - Animations

   Grow/snap and green flash animations for log updates. Separate animations
   for value (white) and unit (gray) text.

   ðŸ”’ CEMENT: Perfect timing and color transitions for log updates
   - Grow/snap: 900ms grow to 1.15x, 100ms snap back (optimal feel)
   - Color flash: Green buildup over 500ms, fade back over 500ms
   - No blackout: Uses explicit color tokens to prevent rendering artifacts

   Dependencies:
   Global: _variables.css (--log-green, --on-surface-light, --on-surface-medium)
   Parent: workout-log.style.css

   Used by: workout-log.index.js via .is-updating-log class
   ========================================================================== */

/* === KEYFRAME DEFINITIONS === */

/* ðŸ”’ CEMENT: Container grow and snap animation - 900ms/100ms timing */
@keyframes workout-log-stamp {
  0% {
    transform: scale(1);
  }
  90% {  /* ðŸ”’ CEMENT: 900ms grow phase for perfect feel */
    transform: scale(1.15);
  }
  100% { /* ðŸ”’ CEMENT: 100ms snap back for crisp finish */
    transform: scale(1);
  }
}

/* ðŸ”’ CEMENT: Green buildup for value text - prevents blackout */
@keyframes workout-log-value-flash {
  0% { color: var(--on-surface-light); }    /* Start: white */
  50% { color: var(--text-green-plan); }    /* Peak: tokenized green */
  100% { color: var(--on-surface-light); }  /* End: white */
}

/* ðŸ”’ CEMENT: Green buildup for unit text - prevents blackout */
@keyframes workout-log-unit-flash {
  0% { color: var(--on-surface-medium); }   /* Start: gray */
  50% { color: var(--text-green-plan); }    /* Peak: tokenized green */
  100% { color: var(--on-surface-medium); } /* End: gray */
}

/* === ANIMATION APPLICATION === */

/* Container scaling animation */
.workout-log-item.is-updating-log {
  animation: workout-log-stamp 1s ease-out;
  transform-origin: center center;
}

/* Value text color animation */
.workout-log-item.is-updating-log .log-item-results-value {
  animation: workout-log-value-flash 1s ease-out;
  animation-delay: 1s; /* After grow/snap completes */
  backface-visibility: hidden; /* Rendering stability */
  -webkit-font-smoothing: antialiased;
}

/* Unit text color animation */
.workout-log-item.is-updating-log .log-item-results-unit {
  animation: workout-log-unit-flash 1s ease-out;
  animation-delay: 1s; /* After grow/snap completes */
  backface-visibility: hidden; /* Rendering stability */
  -webkit-font-smoothing: antialiased;
}

/* === TIMESTAMP SKIP ANIMATION === */

/* ðŸ”’ CEMENT: Timestamp fade to red when rest is skipped */
@keyframes timestamp-fade-to-skip {
  0% {
    color: inherit; /* Start with default color */
  }
  100% {
    color: var(--text-red-skip); /* Fade to red */
  }
}

/* Apply fade animation to timestamp when rest is skipped */
.workout-log-item.is-skip-animating .log-item-timestamp.text-skip {
  animation: timestamp-fade-to-skip 500ms ease-out forwards;
}

