/* ==========================================================================
   MY DATA - History Card Spacing

   Manages precise spacing throughout the history calendar view using a nuclear
   reset pattern. All elements reset to margin: 0, padding: 0, then selectively
   restored with !important flags to override the reset.

   Architecture: Calendar view with workout history - Two-line label system
   - Line 1 (Day/Date): 16px from divider, 7px to Line 2 (shown once per day)
   - Line 2 (Body Part/Completion): 7px to selector (shown for each workout)
   - Subsequent same-day workouts: Line 2 has 16px from previous selector
   - All workout sessions wrapped in .workout-session-selector (9px internal padding)
   - Sandwich dividers separate days (16px visual spacing top)
   - History title: 16px from card top, 7px to selector (managed in my-data.header.css)
   - Week navigator: 16px from selector, 16px to calendar (managed in my-data.header.css)
   - Exercise blocks: 16px spacing between (inside selectors)
   - Set rows: 7px spacing between, 50px indent (inside selectors)

   ðŸ”’ CEMENT: Nuclear reset pattern with !important overrides
   - All elements reset to 0 (margin, padding, line-height)
   - Header elements (title, navigator) use !important to override nuclear reset
   - Fine-tuned spacing accounts for font metrics and line-height:
     * History title: 4px margin-bottom = 7px visual to selector
     * Week navigator: 15px margin-bottom = 16px visual to calendar content
     * Day headers: 3px margin = 7px visual with line-height
     * Exercise blocks: 12px margin = 16px visual with 4px line-height
     * All direct values (no calc() with negative numbers)

   Dependencies:
   Global: _variables.css (--header-margin-bottom, --history-exercise-spacing,
           --space-m, --space-s, --history-day-header-spacing)
   Parent: my-data.style.css
   Sibling: my-data.header.css (History title and week navigator styling)

   Used by: History calendar view (my-data.template.js)
   ========================================================================== */

/* === HISTORY CARD CASCADE MANAGEMENT === */
/* ðŸ”’ CEMENT: Nuclear reset enables precise spacing control */
.history-card * {
  margin: 0;
  padding: 0;
  line-height: 1;
}

/* === SELECTIVE SPACING RESTORATION === */
/* ðŸ”’ CEMENT: All measurements verified for visual consistency */

/* History title */
.history-card .history-week-title {
  /* Spacing handled in my-data.header.css */
  /* 16px from card top: 11px card-padding + 1px padding-top + font metrics */
  /* 7px to selector: 4px margin-bottom */
  padding-top: 1px !important; /* Override nuclear reset */
  margin-bottom: 4px !important; /* Override nuclear reset - 4px = 7px visual to selector */
}

/* Week navigator */
.history-card .week-navigator {
  /* Spacing handled in my-data.header.css - must override nuclear reset */
  margin-top: var(--space-m) !important; /* 16px from selector */
  margin-bottom: 15px !important; /* 15px = 16px visual to calendar content */
}

/* === LINE 1: DAY/DATE HEADER === */
/* Shown once per day (first workout only) - 16px from divider, 7px to Line 2 */
.history-card .history-day-date-header {
  margin-top: 16px !important; /* 16px from divider */
  margin-bottom: 3px !important; /* 3px = 7px visual to body part line */
}

/* === LINE 2: BODY PART / COMPLETION LINE === */
/* First body part line (after day/date header) - 7px to selector */
.history-card .history-body-part-line {
  margin-top: 0 !important; /* Day/date header provides spacing */
  margin-bottom: 4px !important; /* 4px = 7px visual to selector */
}

/* Subsequent body part lines (after workout selector) - 16px spacing for multiple same-day workouts */
.history-card .workout-session-selector + .history-body-part-line {
  margin-top: 15px !important; /* 15px = 16px visual from previous selector */
}

/* === WORKOUT SELECTORS === */
/* Workout selector after body part line - spacing handled by Line 2 margin-bottom */
.history-card .workout-session-selector {
  margin-top: 0 !important; /* Body part line provides spacing */
  margin-bottom: 0 !important; /* Next body part line or divider provides spacing */
}

/* Placeholder text inside workout-session-selector - no margin (padding handles spacing) */
.history-card .workout-session-selector .history-placeholder-text {
  margin: 0 !important;
  padding: 0 !important; /* Overrides global 40px padding */
}

/* === DIVIDERS === */
/* All history dividers - uniform 16px visual spacing top */
.history-card .history-divider {
  margin: 18px 0 0 0 !important; /* 18px top | 0 bottom (day/date header margin-top controls spacing below) */
}

/* === EXERCISE BLOCKS === */
/* ðŸ”’ CEMENT: 16px between exercises */
.history-card .history-exercise-block {
  margin: 0 0 12px 0; /* 12px + 4px line-height = 16px visual between */
}

/* First exercise inside workout-session-selector - negative margin to achieve 9px visual */
.history-card .workout-session-selector .history-exercise-block:first-child {
  margin-top: -1px !important; /* Pull up to achieve 9px visual from top border */
}

/* Last exercise inside workout-session-selector - negative margin to achieve 9px visual */
.history-card .workout-session-selector .history-exercise-block:last-child {
  margin-bottom: -3px !important; /* Pull up to achieve 9px visual from bottom border */
}

/* Set rows inside workout-session-selector - 50px indent */
.history-card .workout-session-selector .history-set-left {
  margin-left: 41px !important; /* 41px + 9px padding = 50px visual indent */
}

/* === EXERCISE NAMES === */
/* ðŸ”’ CEMENT: 7px to first set row */
.history-card .history-exercise-name {
  margin: 0 0 3px 0; /* 3px + 4px line-height = 7px visual */
}

/* === SET ROWS === */
/* ðŸ”’ CEMENT: 7px between rows */
.history-card .history-set-row {
  margin: 0 0 3px 0; /* 3px + 4px line-height = 7px visual */
}

.history-card .history-set-row:last-child {
  margin-bottom: 0; /* No margin on last row */
}

/* Set row horizontal alignment - preserve from reset */
.history-card .history-set-left {
  margin-left: 100px; /* Indent for set numbers */
}

.history-card .history-set-right {
  margin-left: auto; /* Push results to right */
}

/* === SELECTOR === */
/* Selector container */
.history-selector-container {
  margin-bottom: 0; /* Week navigator now handles spacing below with its margin-top */
}
