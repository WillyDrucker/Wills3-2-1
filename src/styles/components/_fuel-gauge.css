/* ==========================================================================
   FUEL GAUGE - GLOBAL BASE STYLES
   
   Core fuel gauge structure and animations
   Dual-mode patterns moved to _dual-mode-patterns.css
   ========================================================================== */

/* === BASE STRUCTURE === */
.fuel-gauge-container {
  display: flex;
  justify-content: space-between;
  height: var(--fuel-gauge-height);
  flex-grow: 1;
}

.fuel-segment {
  flex-grow: 1;
  background-color: var(--surface-dark-accent);
  border-radius: var(--border-radius);
  margin-right: 5px;
  position: relative;
  overflow: hidden;
}

.fuel-segment:last-child {
  margin-right: 0;
}

/* === PROGRESS ANIMATION === */
/* Two-part animation: parent controls width, pseudo controls color */
.segment-progress {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0%;
  background-color: transparent;
  border-top-right-radius: var(--border-radius);
  border-bottom-right-radius: var(--border-radius);
}

.segment-progress::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--primary-blue-dark);
  border-top-right-radius: var(--border-radius);
  border-bottom-right-radius: var(--border-radius);
  animation-delay: inherit; /* Sync with parent */
}

/* === ACTIVE STATE === */
.fuel-segment.is-active .segment-progress {
  animation-name: segment-fill-animate;
  animation-duration: 60s;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
  animation-delay: inherit; /* Dynamic value from JS */
}

.fuel-segment.is-active .segment-progress::after {
  animation-name: segment-color-pulse;
  animation-duration: 60s;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
}

/* === COMPLETED STATES === */
.fuel-segment.is-complete-skip {
  background-color: var(--warning-orange);
}

/* === STAMPING ANIMATIONS === */
.fuel-segment.is-stamping-skip {
  animation: stamp-effect-skip 1.2s forwards;
}

/* === FADE-OUT ANIMATIONS === */
.fuel-segment.is-fading-out-skip {
  animation: final-stamp-and-fade-skip 4s linear forwards;
}

/* Note: Dual-mode specific colors and animations in _dual-mode-patterns.css */